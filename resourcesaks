Resources
| where type == 'microsoft.containerservice/managedclusters'
| join kind=leftouter (
    ResourceContainers
    | where type == 'microsoft.resources/subscriptions'
    | project subscriptionId, subscriptionName = name
) on subscriptionId
| project 
    name,
    subscriptionName,
    resourceGroup,
    location,
    properties.kubernetesVersion,
    properties.nodeResourceGroup,
    properties.provisioningState
| order by subscriptionName, resourceGroup, name
